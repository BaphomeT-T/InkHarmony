<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Pane?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>

<StackPane fx:id="rootPane" xmlns="http://javafx.com/javafx/23.0.1"
    xmlns:fx="http://javafx.com/fxml/1"
    fx:controller="UserInterface.CustomerControl.Recomendaciones.RecomendacionesController">
    <BorderPane prefHeight="800.0" prefWidth="1200.0" style="-fx-background-color: #0A0E27;" >

        <!-- ─────────── TOP ─────────── -->
        <top>
            <HBox alignment="CENTER_LEFT" spacing="25.0" style="-fx-background-color: #0A0E27;"
                BorderPane.alignment="TOP_LEFT">

                <Label style="-fx-text-fill: white; -fx-background-color: #0A0E27; -fx-padding: 20;"
                    text="RECOMENDACIONES" translateX="25.0" translateY="35.0">
                    <font>
                        <Font size="72.0" />
                    </font>
                </Label>

                <ImageView fitHeight="57.0" fitWidth="71.0" preserveRatio="true" scaleX="1.1"
                    scaleY="1.1" scaleZ="1.1" translateX="-700.0" translateY="-25.0">
                    <image>
                        <Image url="@../../Resources/img/botonRegresar.PNG" />
                    </image>
                </ImageView>

                <Button fx:id="cerrarButton" onAction="#cerrarVentana" opacity="0.0"
                    prefHeight="42.0"
                    prefWidth="69.0" translateY="10.0" />
            </HBox>
        </top>

        <!-- ─────────── LEFT ─────────── -->
        <left>
            <VBox alignment="TOP_CENTER" maxHeight="501.0" prefHeight="501.0" prefWidth="250.0"
                spacing="50"
                style="-fx-background-color: #201D4E;" translateX="40.0" translateY="-48"
                BorderPane.alignment="CENTER">
                <padding>
                    <Insets top="25" />
                </padding>
                <Button fx:id="btnArtista" onAction="#handlePorArtista"
                    style="-fx-background-color: #5A5A80; -fx-text-fill: white;                            -fx-background-radius: 40; -fx-padding: 20 40;"
                    text="Por Artista">
                    <font>
                        <Font size="24.0" />
                    </font>
                </Button>

                <Button fx:id="btnGenero" onAction="#handlePorGenero"
                    style="-fx-background-color: #5A5A80; -fx-text-fill: white;                            -fx-background-radius: 40; -fx-padding: 20 40;"
                    stylesheets="@estilos_botonesPresionados.css"
                    text="Por Género">
                    <font>
                        <Font size="24.0" />
                    </font>
                </Button>

                <Button fx:id="btnPersonalizadas" onAction="#handlePersonalizadas"
                    style="-fx-background-color: #5A5A80; -fx-text-fill: white;                            -fx-background-radius: 40; -fx-padding: 20 40;"
                    text="Preferencias">
                    <font>
                        <Font size="24.0" />
                    </font>
                </Button>

                <Button fx:id="btnEstrenos" onAction="#handleEstrenos"
                    style="-fx-background-color: #5A5A80; -fx-text-fill: white;                            -fx-background-radius: 40; -fx-padding: 20 40;"
                    text="Estrenos">
                    <font>
                        <Font size="24.0" />
                    </font>
                </Button>
            </VBox>
        </left>

        <!-- ─────────── CENTER ─────────── -->
        <center>
            <Pane prefHeight="545.0" maxHeight="545.0" prefWidth="619.0" scaleX="0.9" scaleY="0.92"
                style="-fx-background-color: #201D4E;" translateX="-3.6" translateY="-48.0"
                BorderPane.alignment="CENTER">

                <StackPane fx:id="contentPane" layoutX="20.0" layoutY="14.0"
                    prefHeight="515.0" maxHeight="515.0" prefWidth="975.0"
                    style="-fx-background-color: #0A0E27;">

                    <VBox alignment="TOP_LEFT" spacing="10.0">
                        <padding>
                            <Insets top="20.0" />
                        </padding>

                        <!-- tabla -->
                        <TableView fx:id="tablaCanciones" maxHeight="425.0" prefHeight="425.0"
                            scaleX="0.97"
                            stylesheets="@estilos_recomendaciones.css">

                            <!-- ── placeholder ── -->
                            <placeholder>
                                <VBox alignment="CENTER" spacing="8" translateY="-50.0">
                                    <Label fx:id="mensajeBienvenida"
                                        style="-fx-text-fill: white; -fx-font-size: 30px;"
                                        text="¡Bienvenido!" />
                                    <Label fx:id="mensajeSelecciona"
                                        style="-fx-text-fill: white; -fx-font-size: 20px;"
                                        text="Selecciona uno o más filtros" />
                                </VBox>
                            </placeholder>

                            <!-- columnas -->
                            <columns>

                                <!-- TÍTULO + PORTADA (una sola celda) -->
                                <TableColumn fx:id="colTituloConImagen" prefWidth="350.0"
                                    text="Título" />

                                <!-- ARTISTA -->
                                <TableColumn fx:id="colArtista" prefWidth="180.0"
                                    style="-fx-alignment:center;" text="Artista(s)" />

                                <!-- GÉNERO(S) -->
                                <TableColumn fx:id="colGenero" prefWidth="180.0"
                                    style="-fx-alignment:center;" text="Género(s)" />

                                <!-- AÑO -->
                                <TableColumn fx:id="colAnio" prefWidth="115.0"
                                    style="-fx-alignment:center;" text="Año de la canción" />

                                <!-- DURACIÓN -->
                                <TableColumn fx:id="colDuracion" prefWidth="85.0"
                                    style="-fx-alignment:center;" text="Duración" />

                                <!-- PLAY -->
                                <TableColumn fx:id="colPlay" prefWidth="35.0" />
                            </columns>

                        </TableView>

                        <!-- filtros -->
                        <HBox fx:id="filtrosBox" alignment="CENTER" spacing="15" visible="false">

                            <Button fx:id="btnLimpiarFiltros" onAction="#handleLimpiarFiltros"
                                styleClass="filtro-button"
                                stylesheets="@estilos_botones.css"
                                text="LimpiarFiltros" />

                            <!-- ——  GÉNERO  —— -->
                            <StackPane>
                                <!-- campo -->
                                <TextField fx:id="txtBuscarGenero" minHeight="35" prefWidth="250"
                                    promptText="Busca una canción por género"
                                    style="-fx-background-radius:20; -fx-background-color:#575a81; -fx-text-fill: #FFFFFF;"
                                    visible="false" />
                                <!-- lupa -->
                                <ImageView fitHeight="34.0" fitWidth="33.0" preserveRatio="true"
                                    translateX="-8" StackPane.alignment="CENTER_RIGHT"> <!-- pequeño
                                margen interior -->
                                    <image>
                                        <Image url="@../../Resources/img/CatalogoCanciones/Lupa.png" />
                                    </image>
                                </ImageView>
                            </StackPane>

                            <!-- ——  ARTISTA  —— -->
                            <StackPane>
                                <TextField fx:id="txtBuscarArtista" minHeight="35" prefWidth="250"
                                    promptText="Busca una canción por artista"
                                    style="-fx-background-radius:20; -fx-background-color:#575a81; -fx-text-fill: #FFFFFF;"
                                    visible="false" />
                                <ImageView fitHeight="34.0" fitWidth="33.0" preserveRatio="true"
                                    translateX="-8" StackPane.alignment="CENTER_RIGHT">
                                    <image>
                                        <Image url="@../../Resources/img/CatalogoCanciones/Lupa.png" />
                                    </image>
                                </ImageView>
                            </StackPane>

                        </HBox>
                    </VBox>
                </StackPane>
            </Pane>
        </center>
    </BorderPane>
</StackPane>